<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Инфографика для родителей: Наш Год Вместе и Академические Планы</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Light gray background */
        }
        .chart-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
        }
        /* Цветовая палитра "Energetic & Playful" */
        /* #FF6B6B (Vibrant Red/Pink) */
        /* #FFD166 (Bright Yellow) */
        /* #06D6A0 (Teal/Green) */
        /* #118AB2 (Strong Blue) */
        /* #073B4C (Dark Blue/Text/Accent) */

        .text-brand-dark { color: #073B4C; }
        .bg-brand-red { background-color: #FF6B6B; }
        .text-brand-red { color: #FF6B6B; }
        .bg-brand-yellow { background-color: #FFD166; }
        .text-brand-yellow { color: #FFD166; }
        .bg-brand-green { background-color: #06D6A0; }
        .text-brand-green { color: #06D6A0; }
        .bg-brand-blue { background-color: #118AB2; }
        .text-brand-blue { color: #118AB2; }

        .section-title {
            color: #073B4C; /* Dark Blue */
            border-bottom: 3px solid #06D6A0; /* Teal/Green */
            padding-bottom: 0.5rem;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem; /* 12px */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease-in-out;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .stat-number {
            font-size: 3rem; /* 48px */
            font-weight: 700;
            line-height: 1;
            color: #118AB2; /* Strong Blue */
        }
        .solution-step {
            border: 2px solid #118AB2; /* Strong Blue */
            background-color: #E0F2F7; /* Light Blue */
            color: #073B4C;
        }
    </style>
</head>
<body class="text-slate-700">
    <main class="container mx-auto p-4 md:p-8">

        <section id="intro" class="text-center py-12 md:py-16">
            <h1 class="text-4xl md:text-5xl font-bold text-brand-dark mb-4">Наш Год Вместе: Итоги и Планы Развития</h1>
            <p class="text-xl md:text-2xl text-slate-600 mb-8">Ваш голос услышан! Отчет по результатам анкетирования родителей</p>
            <p class="max-w-3xl mx-auto text-slate-500 mb-10">Мы благодарим каждого родителя, кто принял участие в анкетировании по итогам 2024-2025 учебного года. Ваше мнение чрезвычайно важно для нас и помогает формировать будущее школы "Компас". Мы внимательно изучили все ответы и готовы поделиться ключевыми выводами и нашими планами, основанными на вашем ценном фидбэке.</p>
        </section>

        <section id="what-we-value" class="py-12 md:py-16 bg-slate-50 rounded-xl">
            <h2 class="section-title text-3xl font-bold mb-10 text-center">Что понравилось нашим детям и вам?</h2>
            <p class="max-w-3xl mx-auto text-slate-600 mb-8 text-center">Ваши ответы показывают, что многие аспекты школьной жизни приносят радость и пользу.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                <div class="card p-6">
                    <h3 class="text-xl font-semibold text-brand-dark mb-4">Как вы оцениваете учебный год ребёнка?</h3>
                    <div class="chart-container h-72 md:h-80"><canvas id="parentsYearDescChart"></canvas></div>
                    <p class="text-sm text-slate-500 mt-4">Большинство родителей описывают год как стабильный, поддерживающий и способствующий развитию.</p>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-semibold text-brand-dark mb-4">Что особенно понравилось?</h3>
                    <ul class="list-none space-y-2 text-slate-600">
                        <li class="flex items-start"><span class="text-brand-green mr-2">✅</span> <strong class="text-brand-dark">Атмосфера в школе/классе:</strong> Теплая, дружелюбная, комфортная.</li>
                        <li class="flex items-start"><span class="text-brand-green mr-2">✅</span> <strong class="text-brand-dark">Педагоги и классные руководители:</strong> Их вовлеченность, отзывчивость, профессионализм.</li>
                        <li class="flex items-start"><span class="text-brand-green mr-2">✅</span> <strong class="text-brand-dark">Индивидуальный подход:</strong> Внимание к потребностям каждого ребенка.</li>
                        <li class="flex items-start"><span class="text-brand-green mr-2">✅</span> <strong class="text-brand-dark">Проектная деятельность:</strong> Интересные проекты и внеклассные мероприятия.</li>
                        <li class="flex items-start"><span class="text-brand-green mr-2">✅</span> <strong class="text-brand-dark">Психологическая поддержка:</strong> Помощь психолога в учебном процессе.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="challenges-acknowledged" class="py-12 md:py-16">
            <h2 class="section-title text-3xl font-bold mb-10 text-center">Какие были сложности?</h2>
            <p class="max-w-3xl mx-auto text-slate-600 mb-8 text-center">Мы признаем, что в этом году были и трудности. Ваши отзывы помогают нам увидеть области для роста.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                <div class="card p-6">
                    <h3 class="text-xl font-semibold text-brand-dark mb-4">Основные трудности, отмеченные вами:</h3>
                    <ul class="list-none space-y-2 text-slate-600">
                        <li class="flex items-start"><span class="text-brand-red mr-2">❌</span> <strong class="text-brand-dark">Академические трудности / Домашние задания:</strong> Сложности с успеваемостью, объем или характер ДЗ.</li>
                        <li class="flex items-start"><span class="text-brand-red mr-2">❌</span> <strong class="text-brand-dark">Организационные вопросы:</strong> Непонятное расписание, частая смена учителей в начальной школе.</li>
                        <li class="flex items-start"><span class="text-brand-red mr-2">❌</span> <strong class="text-brand-dark">Социальные конфликты:</strong> Трудности во взаимодействии между детьми.</li>
                        <li class="flex items-start"><span class="text-brand-red mr-2">❌</span> <strong class="text-brand-dark">Нехватка обратной связи:</strong> Недостаток информации об успеваемости ребенка.</li>
                        <li class="flex items-start"><span class="text-brand-red mr-2">❌</span> <strong class="text-brand-dark">Качество по отдельным предметам:</strong> Вопросы к преподаванию некоторых дисциплин.</li>
                    </ul>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-semibold text-brand-dark mb-4">Ваши оценки: Где нам нужно расти?</h3>
                    <div class="chart-container h-72 md:h-80"><canvas id="parentsKeyRatingsChart"></canvas></div>
                    <p class="text-sm text-slate-500 mt-4">Мы видим, что, хотя вы высоко цените комфорт обсуждения вопросов, есть запрос на большую ясность в структуре школы.</p>
                </div>
            </div>
        </section>

        <section id="our-response" class="py-12 md:py-16 bg-slate-50 rounded-xl">
            <h2 class="section-title text-3xl font-bold mb-10 text-center">Как мы реагируем: Наши планы на 2025-2026 год</h2>
            <p class="max-w-3xl mx-auto text-slate-600 mb-8 text-center">Ваши предложения легли в основу наших стратегических решений. Мы стремимся к постоянному улучшению!</p>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <div class="card p-6">
                    <h3 class="text-xl font-semibold text-brand-blue mb-4">Новая система обратной связи: Формирующее оценивание</h3>
                    <p class="text-slate-600 mb-4">Мы внедряем систему, которая даст вам более полную и понятную картину прогресса вашего ребенка, снижая при этом неэффективную нагрузку на учителей.</p>
                    <ul class="list-disc list-inside space-y-2 text-slate-600 text-sm">
                        <li><strong class="text-brand-dark">Структурированные комментарии:</strong> Ежемесячно вы будете получать четкие комментарии о том, что получается, что нужно улучшить, и конкретные рекомендации.</li>
                        <li><strong class="text-brand-dark">Портфолио учеников:</strong> Мы создадим систему портфолио, где будут фиксироваться лучшие работы и прогресс ребенка, доступные вам для ознакомления.</li>
                        <li><strong class="text-brand-dark">Фокус на развитии:</strong> Система будет ориентирована на поддержку развития, а не только на оценки.</li>
                    </ul>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-semibold text-brand-blue mb-4">Усиление методической поддержки и качества обучения</h3>
                    <p class="text-slate-600 mb-4">Для решения академических трудностей и повышения качества преподавания мы запускаем новые инициативы.</p>
                    <ul class="list-disc list-inside space-y-2 text-slate-600 text-sm">
                        <li><strong class="text-brand-dark">Запуск Методического круга:</strong> Создание платформы для обмена лучшими практиками, разработки единых методических подходов и повышения квалификации педагогов.</li>
                        <li><strong class="text-brand-dark">Поддержка качества по предметам:</strong> Целенаправленная работа Методического круга над улучшением преподавания по тем предметам, где были выявлены сложности.</li>
                        <li><strong class="text-brand-dark">Разработка единых стандартов:</strong> Создание ясных методических рекомендаций для педагогов, обеспечивающих высокое качество обучения.</li>
                        <li><strong class="text-brand-dark">Взаимодействие с Родительским кругом:</strong> Методический круг будет активно взаимодействовать с Родительским кругом для обсуждения академических вопросов и получения ценной обратной связи, которую мы очень ценим.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="conclusion" class="text-center py-12 md:py-16">
            <h2 class="section-title text-3xl font-bold mb-8">Вместе строим лучшую школу!</h2>
            <p class="max-w-3xl mx-auto text-slate-600 mb-8">Мы ценим ваше партнерство и верим, что только совместными усилиями сможем создать максимально комфортную и эффективную образовательную среду для наших детей. Ваши отзывы — наш главный ориентир.</p>
            <p class="text-brand-dark font-semibold text-xl">Благодарим за ваше доверие и активное участие!</p>
        </section>

        <footer class="text-center py-10 mt-12 border-t border-slate-300">
            <p class="text-brand-dark font-semibold">Школа "Компас"</p>
            <p class="text-sm text-slate-500">&copy; 2024-2025. Ваш голос важен!</p>
        </footer>

    </main>

    <script>
        function wrapLabels(labels, maxLength) {
            return labels.map(label => {
                if (typeof label === 'string' && label.length > maxLength) {
                    const words = label.split(' ');
                    const lines = [];
                    let currentLine = '';
                    words.forEach(word => {
                        if ((currentLine + word).length > maxLength) {
                            lines.push(currentLine.trim());
                            currentLine = '';
                        }
                        currentLine += word + ' ';
                    });
                    lines.push(currentLine.trim());
                    return lines;
                }
                return label;
            });
        }

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            }
            return label;
        };

        const commonChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        font: { size: 10 }
                    }
                },
                tooltip: {
                    callbacks: {
                        title: tooltipTitleCallback
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        font: { size: 10 }
                    }
                },
                x: {
                    ticks: {
                        font: { size: 10 },
                        callback: function(value, index, values) {
                            const label = this.getLabelForValue(value);
                            if (Array.isArray(label)) return label; // Already wrapped
                            if (typeof label === 'string' && label.length > 10) return label.substring(0,10) + '...';
                            return label;
                        }
                    }
                }
            }
        };
        
        const commonPieDonutOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'right',
                     labels: {
                        font: { size: 10 },
                        boxWidth: 10,
                        padding: 10
                    }
                },
                tooltip: {
                    callbacks: {
                        title: tooltipTitleCallback
                    }
                }
            }
        };

        // Data from Python analysis (simulated for direct use in JS)
        // Based on the previous analysis output:
        // Average Trust in Team: 4.0
        // Average Comfort Discussing: 4.1
        // Average Clarity of Structure: 4.1
        // Year Evaluation Counts: Counter({'Стабильный и поддерживающий': 5, 'Сложный, но развивающий': 4, 'Вдохновляющий': 3, 'Тревожный': 2, 'Противоречивый': 1})
        const quantitativeData = {
            "avg_trust": "4.0",
            "avg_comfort": "4.1",
            "avg_clarity": "4.1"
        };

        const yearEvaluationChartData = {
            "labels": ["Стабильный и поддерживающий", "Сложный, но развивающий", "Вдохновляющий", "Тревожный", "Противоречивый"],
            "data": [5, 4, 3, 2, 1] 
        };


        // Chart for Year Evaluation
        const parentsYearDescData = {
            labels: wrapLabels(yearEvaluationChartData.labels, 16),
            datasets: [{
                label: 'Описание учебного года ребёнка',
                data: yearEvaluationChartData.data,
                backgroundColor: ['#06D6A0', '#118AB2', '#FFD166', '#FF6B6B', '#073B4C'],
                hoverOffset: 4
            }]
        };
        new Chart(document.getElementById('parentsYearDescChart'), { type: 'doughnut', data: parentsYearDescData, options: commonPieDonutOptions });

        // Chart for Key Ratings (Trust, Comfort, Clarity)
        const parentsKeyRatingsData = {
            labels: wrapLabels(['Доверие команде школы', 'Комфорт обсуждения вопросов', 'Понятность структуры школы'], 16),
            datasets: [{
                label: 'Средний балл (из 5)',
                data: [
                    parseFloat(quantitativeData.avg_trust),
                    parseFloat(quantitativeData.avg_comfort),
                    parseFloat(quantitativeData.avg_clarity)
                ],
                backgroundColor: ['#118AB2', '#06D6A0', '#FFD166'],
                borderColor: ['#073B4C', '#073B4C', '#073B4C'],
                borderWidth: 1
            }]
        };
        const parentsKeyRatingsOptions = JSON.parse(JSON.stringify(commonChartOptions));
        parentsKeyRatingsOptions.scales.y.max = 5;
        new Chart(document.getElementById('parentsKeyRatingsChart'), { type: 'bar', data: parentsKeyRatingsData, options: parentsKeyRatingsOptions });

    </script>
</body>
</html>
